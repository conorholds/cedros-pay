"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const a=require("@solana/wallet-adapter-wallets"),e=require("./CedrosContext-C26DlvLF.js");class r{adapters=null;poolId;isCleanedUp=!1;constructor(l){this.poolId=l??`pool_${Date.now()}_${Math.random().toString(36).slice(2,11)}`,e.getLogger().debug(`[WalletPool] Created pool: ${this.poolId}`)}getAdapters(){return typeof window>"u"?[]:this.isCleanedUp?(e.getLogger().warn(`[WalletPool] Attempted to use pool after cleanup: ${this.poolId}`),[]):this.adapters!==null?this.adapters:(e.getLogger().debug(`[WalletPool] Initializing adapters for pool: ${this.poolId}`),this.adapters=[new a.PhantomWalletAdapter,new a.SolflareWalletAdapter],this.adapters)}async cleanup(){if(this.isCleanedUp){e.getLogger().debug(`[WalletPool] Pool already cleaned up: ${this.poolId}`);return}if(e.getLogger().debug(`[WalletPool] Cleaning up pool: ${this.poolId}`),this.isCleanedUp=!0,this.adapters===null)return;const l=this.adapters.map(async t=>{try{t.connected&&(e.getLogger().debug(`[WalletPool] Disconnecting wallet: ${t.name}`),await t.disconnect())}catch(n){e.getLogger().warn(`[WalletPool] Failed to disconnect wallet ${t.name}:`,n)}});await Promise.allSettled(l),this.adapters=null,e.getLogger().debug(`[WalletPool] Pool cleanup complete: ${this.poolId}`)}isInitialized(){return this.adapters!==null}getId(){return this.poolId}}function i(o){return new r(o)}exports.WalletPool=r;exports.createWalletPool=i;
